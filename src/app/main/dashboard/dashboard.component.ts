// DO NOT edit this file.
// Please work in pre-post-test component only. :)

import { Component, OnInit, OnDestroy, ChangeDetectionStrategy } from '@angular/core';
import { ParamMap, ActivatedRoute } from '@angular/router';
import { Store, select } from '@ngrx/store';
import * as fromStore from '../../core/store/app.reducer';
import * as fromAuth from '../../core/store/auth/auth.reducer';
import { FirebaseService } from '../../core/firebase/firebase.service';
import { firestore } from 'firebase/app';
import { Observable, timer, merge, of, Subject, BehaviorSubject, combineLatest } from 'rxjs';
import { mergeMap, tap, map, withLatestFrom, take, takeUntil, timestamp } from 'rxjs/operators';

import { DashboardState } from './+state/dashboard.state';
import { DashboardSelectors } from './+state/dashboard.state.selectors';

import { LoadData, Cleanup } from './+state/dashboard.state.actions';
import { RouterNavigate } from '../../core/store/app.actions';

import { User, SetupType } from '../../core/store/user/user.model';
import { CalendarEvent } from '../../core/store/calendar-event/calendar-event.model';
import { WeekGoal } from '../../core/store/week-goal/week-goal.model';
import { QuarterGoal } from '../../core/store/quarter-goal/quarter-goal.model';
import { WeekGoalWithEvents, UpcomingEventsData, WeekGoalProgress, QuarterDates } from './+state/dashboard.model';
import { startOfWeek, endOfTomorrow, endOfToday, timestampAfterMilliseconds } from '../../core/utils/date.utils';

/** The day-to-day view for compass. */
@Component({
  selector: 'app-dashboard',
  templateUrl: './dashboard.component.html',
  styleUrls: ['./dashboard.component.scss'],
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class DashboardComponent implements OnInit, OnDestroy {

  // --------------- ROUTE PARAMS & CURRENT USER ---------
  
  /** The currently signed in user. */
  currentUser$: Observable<User> = this.store.pipe(select(fromAuth.selectUser));

  /** The beginning of the current week. */
  startOfWeek$: Observable<Date> = of(new Date()).pipe(
    mergeMap(date => {

      const beginning = startOfWeek(date);
      const delayTillNextWeek = beginning.getTime() + 604800000 - date.getTime() + 10;

      return merge(
        of(startOfWeek(date)),
        timer(delayTillNextWeek, 604800000).pipe(
          map(() => startOfWeek(new Date()))
        )
      );
    })
  );

  /** The current time, updated at the start of each minute. */
  time$: Observable<Date> = of(new Date()).pipe(
    mergeMap(date => {
      const seconds = date.getSeconds();
      const milliseconds = date.getMilliseconds();

      const delayTillNextMin = (59 - seconds) * 1000 + (1000 - milliseconds) + 10;

      return merge(
        of(date),
        timer(delayTillNextMin, 60*1000).pipe(
          map(() => new Date())
        )
      );
    })
  );

 
  // --------------- DB ENTITY DATA ----------------------

  // --------------- LOCAL UI STATE ----------------------

  activityTitle: string = 'Act It Out';
  text1: string = 'Facilitator picks a subject and each player finishes the following prompts about it: I like, I wish, I feel...';
  text2: string = 'A submission is projected and a random player is chosen to stand with their back to the screen.';
  text3: string = 'Based on clues from the team, the person must guess the answer, guess which prompt it is and who is the submitter.';
  image1: string = 'data:image/png;base64,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';
  image2: string = 'data:image/png;base64,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';
  image3: string = 'data:image/png;base64,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'; 

  // --------------- DATA BINDING STREAMS ----------------
  
  /** Whether it is time to reorient. */
  reorientType$: Observable<SetupType> = combineLatest(
    this.currentUser$,
    this.startOfWeek$
  ).pipe(
    map(([user, startOfWeek]) => {
      if (user.setupInProgress) {
        // If there is already setup in progress, then return the type
        return user.setupInProgress.type;
      } else {
        // Otherwise, check if we need to initiate a setup process
        // TODO: implement this logic. For now, just return undefined to indicate no setup needed
        return undefined;
      }
    })
  );

  // --------------- EVENT BINDING STREAMS ---------------

  getStarted(): void {
    console.log("Get Started Button Pressed!");
  }

  exit(): void {
    console.log("Exit Button Pressed!");
  }

  // --------------- OTHER -------------------------------

  /** Unsubscribe observable for subscriptions. */
  unsubscribe$: Subject<void> = new Subject();

  constructor(
    private state: DashboardState,
    private route: ActivatedRoute, 
    private selectors: DashboardSelectors,
    private store: Store<fromStore.State>,
    private db: FirebaseService,
  ) { 
    // --------------- EVENT HANDLING ----------------------
    
  }

  ngOnInit() {
    // Once everything is set up, load the data for the role.
    this.currentUser$.pipe(
      withLatestFrom(this.startOfWeek$),
      takeUntil(this.unsubscribe$)
    ).subscribe(([user, startOfWeek]) => {
      this.store.dispatch( new LoadData({ 
        currentUser: user,
        startOfWeek: startOfWeek
      }) );
    });
  }

  ngOnDestroy() {
    // Unsubscribe subscriptions.
    this.unsubscribe$.next();
    this.unsubscribe$.complete();

    // Unsubscribe from firebase connection from load and free up memoized selector values.
    this.store.dispatch( new Cleanup() );
    this.selectors.cleanup();
  }
}
